
[core]
name: portal
mass: 1000
radius: 10
price: 5000
maxHp: 100
class: CustomUnitMetadata
buildSpeed: 30s
maxShield: 3000
shieldRegen: 0.15
shieldRenderRadius: 0
isBuilding: true
footprint: 2,2,2,2
builtFrom_1_builder


[canBuild_builder]
name:builder
pos:-1

[graphics] 
image: PORTAL.png 
total_frames: 14

[animation_building]
#body_2s:{frame:14}

body_2s:{frame:6}
body_3s:{frame:12}
 
[animation_pingpong]
body_2s:{frame:7}
body_3s:{frame:13}
pingPong: true



[hiddenAction_pingpong]

playAnimation:building
autoTrigger:if not self.tags(includes='portal') and self.queueSize(greaterThan=0)

[hiddenAction_doingsomething]
alsoTriggerAction: next 
autoTrigger:if self.tags(includes='portal') and not self.tags(includes='nomorerepeat')
playAnimation: building
finishPlayingLastAnimation: false
temporarilyAddTags: nomorerepeat


[hiddenAction_next]
temporarilyRemoveTags: nomorerepeat
playAnimation:pingpong
finishPlayingLastAnimation:true
alsoTriggerAction:next2


[hiddenAction_next2]
requireConditional:if self.queueSize(greaterThan=0)
alsoTriggerAction:doingsomething

[hiddenAction_done]
autoTriggerOnEvent: queuedUnitFinished
temporarilyRemoveTags: portal

[hiddenAction_alsodone]
autoTriggerOnEvent: queueItemCancelled
temporarilyRemoveTags: portal

[hiddenAction_Starting]
temporarilyAddTags: portal
autoTriggerOnEvent: queueItemAdded

[animation_idle]

onActions: idle
body_1s:{frame:1}




[attack]
canAttack: False

[movement]
movementType: LAND