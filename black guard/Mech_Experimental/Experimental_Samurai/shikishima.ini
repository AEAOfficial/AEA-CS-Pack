#Skill

#Bonus: if energy if full... attack 'STAB' has extra wave strike that pierce through armor and loonger range

#FLAG= 1-6
#Added new soundfx and effect for iai+

[core]
@global skill: false
@global taunt: false
@global showBar: false
@global pertHp: 15
@global resetT: 1.5

@global tempFile: 2
#@global cool: 120
@global cool: 140
#-------------------------Iai
@global iaiR: r
@global iaiAnim: attack3b
@global iaiCastTime: 0.5
@global iaiCastDecal: 33
#-------------------------
name: shikishima

displayText: Shikishima
displayDescription: "I will hunt you to the ends of the earth"\n-One of the 7 last Vanguard mech\n-Very deadly, armored and fast\n-Armed with extremely sharp sword, can cut cut through steel like butter\n-Can launch sword wave and deal critical damage on its path\n-Has reconstruct and self repair when out of combat\n-Ground attack only\n-Transport slot needed: 5\n- YOU MAY ONLY HAVE 1\n--------------------------\nWeapon: [Tachi], Target: Land|Area Effect|\nAccuracy: good\nSecWeapon: [Nodachi,[mini Tachi],[MLRS mk.II],[Cero]

class: CustomUnitMetadata
price: ${shikishinaPr}
#price: 44000, samuraiSoulL=1 
maxHp: 5700
armour: 7
mass: 1400000

techLevel: 1
buildSpeed: 180s
#availableInDemo: true


#----------------------------------------------------------
energyMax: 10
#energyRegen: 0.005
energyRegen: 0.005
energyStartingPercentage: 0
energyNeedsToRechargeToFull: true

maxShield: 300
shieldRegen: 0.7
shieldRenderRadius: 35
shieldDisplayOnlyDeflection: true
shieldDeflectionDisplayRate: 1

generation_resources:hp=1, shield=-2.1
generation_active: if self.hasFlag(id=9) 
generation_delay: 1

selfRegenRate:0.2


#----------------------------------------------------------
transportSlotsNeeded: 5

radius: 29
displayRadius: 29
softCollisionOnAll: 23

isBio: false
unitsSpawnedOnDeath: fuckYou_medium
effectOnDeath: CUSTOM:WhiteSmuk_A*6, CUSTOM:deathPilot, CUSTOM:deathLarm, CUSTOM:deathNodachi, CUSTOM:deathRail, CUSTOM:deathHEAD, CUSTOM:deathArm_A, CUSTOM:deathArm_B, CUSTOM:deathMLRS, CUSTOM:deathArm_sword_1, CUSTOM:deathArm_sword_2
tags: shikiMelee, exp

borrowResourcesWhileAlive: samuraiSoulL=1

#-------------------------------New cliche anime skill... 
[action_108PoundCannon]
@global HPHcool: 10
displayType: action
isActive: if not self.hasFlag(id=19)
text: Hyakuhachi Pound Ho
description: "108 Pound Phoenix/Cannon" \n[Ability: Self |Effect: Enemy|Damage: Projectile]\n -Cast a ability in direction character is facing\n- Launches a compressed plasma projectile spiraling towards the target\n Cooldown: 10 s\n\n-Note: Plasma Ball is ineffective to experimentals\n-Tech stolen from giga fortress
pos: 0.01
buildSpeed: 0s
iconImage: ROOT:data\icons\108lbsCannon.png
addActionCooldownTime: ${HPHcool}s
playAnimation: attackQuick

addResources: setFlag=18-19
alsoQueueAction: PlasmaBall_>
[hiddenAction_PlasmaBall_>]
buildSpeed: 0.65s
requireConditional: if self.hasFlag(id=18)
spawnUnits: SW(offsetDir=0)
addResources: unsetFlag=18-19
playSoundAtUnit: launch_mm.ogg:2
spawnEffects: CUSTOM:sparksH*25
[action_SwordWave]
#its death ball
@global SWcool: 10
@global SWcastrng: 350
isActive: if not self.hasFlag(id=19)
isGuiBlinking: if self.isEnergyFull()
isLocked: if self.energy(lessThan=10)
isLockedMessage: Recharging
isVisible: true
displayType: action
buildSpeed: 0s
text: Sword Wave 
description: [Ability: Target Area|Effect: Enemy|Damage: Projectile]\n[Active]-Launch a deadly Sword wave(Full energy) causes a critical damage on its path\n[Passive]-Automatically activates sword wave in combat when energy when full charged\nReset the cooldown, when out of combat Gains 150 attack range and can launch rocket burst\n-Cast range: ${SWcastrng}, Cooldown ${SWcool} seconds\n\n-Note: Sword Wave is ineffective to experimentals\n- Locked when Nodachi is Active | Increase Sword wave charge rate
pos: 0.1
price: energy=10
iconImage: ROOT:data\icons\swordWave.png
iconExtraImage: ROOT:data\icons\swordWave.png
iconExtraIsVisible: if self.isEnergyFull()
addActionCooldownTime: ${SWcool}s

#---------------------------------------------
onlyOneUnitAtATime: true
fireTurretXAtGround: SwordWaveT
whenBuilding_cannotMove: true
whenBuilding_rotateTo_rotateTurretX: 1
whenBuilding_rotateTo_waitTillRotated: true
addWaypoint_maxTime: 0.1s
whenBuilding_temporarilyConvertTo: shikishima_rotate_${iaiR}
whenBuilding_triggerAction: ClearWaypoint
addResources: setFlag=18, energy=10
alsoQueueAction: SwordWave_A
#---------------------------------------------
[hiddenAction_SwordWave_A]
buildSpeed: 0.1s
addWaypoint_prepend: true
addWaypoint_type: MOVE
addWaypoint_target_nearestUnit_tagged: followMeSpinSamurai
addWaypoint_target_nearestUnit_team: own
#addWaypoint_target_nearestUnit_maxRange: 25

addWaypoint_maxTime: 1s
whenBuilding_temporarilyConvertTo: shikishima_rotate_${iaiR}

alsoQueueAction: SwordWave_B
[hiddenAction_SwordWave_B]
buildSpeed: 0.6s
whenBuilding_temporarilyConvertTo: shikishima_rotate_${iaiR}
#---------------------------------------------
playAnimation: attack3
alsoQueueAction: SwordWave_C
playSoundAtUnit: ROOT:data\soundFx\interfacei_reload.ogg:0.4
[hiddenAction_SwordWave_C]
buildSpeed: 1.1s

alsoTriggerAction: SwordWave_>
#---------------
whenBuilding_temporarilyConvertTo:shikishima_temp2a
#---------------

playSoundAtUnit: launch_mm.ogg:2
spawnEffects: CUSTOM:sparksH*25
[hiddenAction_SwordWave_>]
requireConditional: if self.isEnergyFull()
spawnUnits: heavyAttack(offsetDir=0)
addResources: energy=-10, unsetFlag=18

[hiddenAction_ClearWaypoint]
clearActiveWaypoint: true
#=========================================================================IAI
[action_iai]
@define cool: 30
@global iaicastrng: 9999
@global iaisfx: 0.5

isActive: if not self.hasFlag(id=19)
isVisible: true
displayType: action
buildSpeed: 0s
text: Iai
description: [Ability: Target Point|Effect: Self/Enemy|Damage: Area/Straight line]\n-High speed charge to the target, and cause a lot damage to the target on the path\n-[Nodachi | Buff] Increase damage and reduce cooldown to 3 seconds (max cast: 2)\n-It has extremely high energy consumption that diminishes the ultimate duration\n-Cast range: global, range: 340, Cooldown: ${cool} seconds\n\n-Note: Dont cast on water/lava\n-Consume all remaining energy\n[Normal] | less damage vs Experimental, Quicker cast time\n[Nodachi | Buff] | +15%dmg vs Experimental, slower cast time
pos: 0.1

iconImage: ROOT:data\icons\iai.png

addActionCooldownTime: ${cool}s
#---------------------------------------------
onlyOneUnitAtATime: true
fireTurretXAtGround: iaiT
whenBuilding_cannotMove: true
whenBuilding_rotateTo_rotateTurretX: 1
whenBuilding_rotateTo_waitTillRotated: true
addWaypoint_maxTime: 0.1s
whenBuilding_temporarilyConvertTo: shikishima_rotate_${iaiR}
whenBuilding_triggerAction: ClearWaypoint

alsoQueueAction: iai_A
addResources: setFlag=18
#playSoundAtUnit: Santoryu Ogi_Ichidai Sanzen Daisen Sekai.ogg:2
#---------------------------------------------
[hiddenAction_iai_A]
buildSpeed: 0.1s
addWaypoint_prepend: true
addWaypoint_type: MOVE
addWaypoint_target_nearestUnit_tagged: followMeSpinSamurai
addWaypoint_target_nearestUnit_team: own
#addWaypoint_target_nearestUnit_maxRange: 25

addWaypoint_maxTime: 1s
whenBuilding_temporarilyConvertTo: shikishima_rotate_${iaiR}
alsoQueueAction: iai_B
[hiddenAction_iai_B]
buildSpeed: 0.6s
whenBuilding_temporarilyConvertTo: shikishima_rotate_${iaiR}
spawnEffects: CUSTOM:Railpath_A
alsoQueueAction: iai_C
playSoundAtUnit: ROOT:data\soundFx\interface_Iai_start.ogg:0.4
#---------startPlay animation
[hiddenAction_iai_C]
buildSpeed: 0
playAnimation: ${iaiAnim}
addResources: setFlag=5
alsoQueueAction: iai_D
#temporarilyAddTags: main_iai
[hiddenAction_iai_D]
buildSpeed: ${iaiCastTime}s

#---------------
whenBuilding_temporarilyConvertTo:shikishima_temp2a
whenBuilding_cannotMove: true
#---------------
alsoQueueAction: iai_E
playSoundAtUnit: iai_a.ogg:${iaisfx}
#temporarilyRemoveTags: main_iai
spawnEffects: CUSTOM:WhiteSmuk_A*6, CUSTOM:WhiteSmuk_Aa*6
[hiddenAction_iai_E]
buildSpeed: 0s
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp2a
fireTurretXAtGround: iai
fireTurretXAtGround_withOffset: 0,0
alsoTriggerAction: iai_Ea
alsoQueueAction: sadIai
spawnEffects: CUSTOM:RailParticle_1*20, CUSTOM:iaiEff
addResources: energy=-10, unsetFlag=18
[hiddenAction_iai_Ea]
fireTurretXAtGround: iai
fireTurretXAtGround_withOffset: 0,0
fireTurretXAtGround_withProjectile: iaiDmg
[hiddenAction_sadIai]
#Dead
buildSpeed: 0s
requireConditional: if self.isOverLiquid()
addResources: hp=-999999
playSoundAtUnit: ROOT:data\soundFx\_dio-wryyy.ogg: 5
showQuickWarLogToPlayer: wryyyyyyyy!!!
showMessageToAllEnemyPlayers: ENEMY: %{self.playerName}'s ${core.displayText} die from cringe
#-------------------------------END
[hiddenAction_refund]
requireConditional:  if numberOfUnitsInTeam(greaterThan=1, withTag='shikishimahead ', incompleteBuildings=true)
autoTriggerOnEvent: created
#addResources: 44000, uranium=2666
deleteSelf: true
showMessageToPlayer: You can only have 1 sikishkima on the field at a time. 


[hiddenAction_shieldON]
autoTrigger: if self.shield(full=true) and not self.hasFlag(id=9) and not self.isAttacking() and not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=250) and self.hp(lessThan=${core.maxHp})
addResources: setFlag=9
playSoundAtUnit: ROOT:data\soundFx\unitsystem_emergencySystem.ogg: 5

spawnEffects: CUSTOM:HealItself, CUSTOM:HealItself2, CUSTOM:HealItselfAura, CUSTOM:HealItselfAura2
[hiddenAction_shieldOof]
autoTrigger: if self.shield(empty=true) and self.hasFlag(id=9) or self.isAttacking() and self.hasFlag(id=9) or self.hp(full=true) and self.hasFlag(id=9) 
addResources: unsetFlag=9

[hiddenAction_EnergyF]
autoTrigger: if self.isEnergyFull() and not self.isAttacking() and not self.hasFlag(id=8) or self.isEnergyFull() and not self.isAttacking() and not self.queueSize(greaterThan=0)
requireConditional: if not self.hasFlag(id=18)
convertTo: shikishima_stabRun
playSoundAtUnit: ROOT:data\soundFx\Ubers\shield_up2.ogg

addResources: setFlag=8
spawnEffects: CUSTOM:sparks*15
[action_playAnmation]
#normal attack
isVisible: ${skill}
buildSpeed: 0
text: Normal Slash
playAnimation: attack

[hiddenAction_N1a]
alsoQueueAction: N1b
[hiddenAction_N1b]
buildSpeed: 0.5s
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------

[hiddenAction_whileMoving]
#Useless
alsoQueueAction: whileMovingN1b
[hiddenAction_whileMovingN1b]
#Useless
buildSpeed: 0.5s
requireConditional: if self.isMoving() and self.hasResources(energy=1.5)
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------
addResources: energy=-1.5
spawnUnits: waveS(offsetDir=0)
playSoundAtUnit: ROOT:data\soundFx\melee_bladegun_fire_01.ogg
[action_playAnmation5]
#Quick slash
requireConditional: if self.resource(lessThan=2, type='mulTi')
isVisible: ${skill}
buildSpeed: 0
text: Quick slash
addResources: setFlag=2, setFlag=3
playAnimation: attackQuick
alsoQueueAction: Q1
[hiddenAction_Q1]
buildSpeed: 0.68s
highPriorityQueue: true

#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------

spawnUnits: quickSlash(offsetDir=0)
addResources: unsetFlag=2, mulTi=1
playSoundAtUnit: ROOT:data\soundFx\melee_bladegun_fire_01.ogg
alsoQueueAction: Q2
[hiddenAction_Q2]
#End
buildSpeed: 0.8s
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------
addResources: unsetFlag=3, ammo=-4

#---------------------------------------------------------Multi
[action_playAnmation5Multi]
requireConditional: if self.hasResources(mulTi=2)
#Multi quickSlash
isVisible: ${skill}
buildSpeed: 0
text: Mutli slash
addResources: setFlag=2, setFlag=3
playAnimation: attackQuick
alsoQueueAction: mQ1
[hiddenAction_mQ1]
buildSpeed: 0.7s
highPriorityQueue: true

#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------

addResources: unsetFlag=2
spawnUnits: quickSlash(offsetDir=0)
playSoundAtUnit: ROOT:data\soundFx\melee_bladegun_fire_01.ogg
alsoQueueAction: mQ1c
[hiddenAction_mQ1c]
buildSpeed: 0s
alsoQueueAction: mQ2
playAnimation: attackQuick
[hiddenAction_mQ2]
@copyFromSection: hiddenAction_mQ1
alsoQueueAction: mQ2c
[hiddenAction_mQ2c]
buildSpeed: 0s
alsoQueueAction: mQ3
playAnimation: attackQuick
[hiddenAction_mQ3]
@copyFromSection: hiddenAction_mQ1
#alsoQueueAction: Q2
addResources: mulTi=-2, unsetFlag=3, ammo=-4
alsoQueueAction: mQEND
[hiddenAction_mQEND]
#End
buildSpeed: 0.5s
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------
[resource_mulTi]
displayName: Qs
hidden: true

#--------------------------------------------------
[action_playAnmation2]
#stab
isVisible: ${skill}
buildSpeed: 0
text: Stab
playAnimation: attack2
addResources: setFlag=2
alsoQueueAction: S1
[hiddenAction_S1]
buildSpeed: 0.5s

#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------

spawnUnits: stab(offsetDir=0)
#addResources: unsetFlag=2
playSoundAtUnit: ROOT:data\soundFx\melee_bladegun_fire_02.ogg
alsoQueueAction: S1a
[hiddenAction_S1a]
#Allow quickSlash
buildSpeed: 0.8s

#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------

requireConditional: if self.ammo(greaterThan=3) and self.ammo(lessThan=5)
addResources: unsetFlag=2, setFlag=7
[action_playAnmation3]
#Heavy slash
#autoTrigger: if self.hasFlag(id=4) and self.hasFlag(id=8) and not self.hasFlag(id=5) and self.isAttacking()
#-----------------------------------------------------------------------------------------------------------
#requireConditional: if self.hasFlag(id=4) and self.hasFlag(id=8) and not self.hasFlag(id=5)

isVisible: ${skill}
buildSpeed: 0
text: Heavy slash
playAnimation: attack3
addResources: setFlag=5
alsoQueueAction: H1
[hiddenAction_H1]
buildSpeed: 1.1s
spawnUnits: heavyAttack(offsetDir=0)

#---------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#---------------

addResources: energy=-10
alsoQueueAction: H1end
playSoundAtUnit: ROOT:data\soundFx\melee_bladegun_H.ogg:2
spawnEffects: CUSTOM:sparksH*25
addActionCooldownTime: ${SWcool}s
addActionCooldownApplyToActions: SwordWave
[hiddenAction_H1end]
buildSpeed: 0.8s
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------
addResources: unsetFlag=3, unsetFlag=4, unsetFlag=5, unsetFlag=8


#-------------------------------------------------------------------------------------------
[action_playAnmation4]
#Unfurl
#isVisible: ${skill}
ai_isDisabled: false
ai_isHighPriority: if self.isAttacking() and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=310)
requireConditional: if not self.hasFlag(id=16)
isGuiBlinking: true
#isActive: if not self.queueSize(greaterThan=0)
displayType: action
buildSpeed: 0
text: Nodachi
description: Unfurl Shikishima's third Arm and draw a powerful Plasma Sword\nEach strike deals great damage and wider Sword Wave (cost 0.5 energy)\n-Each kill restore ${pertHp}%hp and 100%shield \n(Sword Wave dont restore hp, shield and energy)\n-In the end of the duration restore 700 hp and 100% shield\n-Energy: 15\nUnfurl time: 2.1s\nCooldown: ${cool}
#playAnimation: Unfurl
alsoQueueAction: Unfurl0
addActionCooldownTime: ${cool}s
pos:0.2

descriptionAddUnitStats: unitRef self.attachment(slot="thirdArm")

iconImage: ROOT:data\icons\nodachi.png
iconExtraImage: ROOT:data\icons\nodachi.png
iconExtraIsVisible: true
#iconExtraImage: ROOT:data\icons\deploy_auto2.png
#iconExtraIsVisible: if self.hasFlag(id=15)
resetCustomTimer: true
addResources: setFlag=16, setFlag=19
clearAllActionCooldowns: true
#-------------------------auto
[action_Auto]
ai_isDisabled: true

isActive: true
isVisible: false
isGuiBlinking: if self.hasFlag(id=15)
pos:0.2

text: [ AUTO ]
description: Automatically activates Nodachi
buildSpeed: 0s
#iconImage: ROOT:data\icons\deploy_auto1.png
#iconExtraImage: ROOT:data\icons\select.png
#iconExtraIsVisible: if self.hasFlag(id=15)

addResources: setFlag=15, Enge=1
alsoTriggerAction: EngageOof

playSoundAtUnit: ROOT:data\soundFx\interface_activate.ogg, ROOT:data\soundFx\interface_deactivate.ogg
[hiddenAction_EngageOof]
requireConditional: if self.hasFlag(id=15) and self.hasResources(Enge=2) 
addResources: unsetFlag=15, Enge=-2
[resource_Enge]
displayName: Engage
hidden: true
#-------------------------auto
[hiddenAction_Unfurl0]
buildSpeed: 0.8s
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------
playAnimation: Unfurl
playSoundAtUnit: ROOT:data\soundFx\interface_open2.ogg: 0.4
alsoQueueAction: Unfurl1
[hiddenAction_Unfurl1]
buildSpeed: 0.5s
addResources: setFlag=6

#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------

#spawnEffects:CUSTOM:smokeStarEngineI*4
alsoQueueAction: UnfurlEnd
[hiddenAction_UnfurlEnd]
buildSpeed: 0.8s
addResources: unsetFlag=6, unsetFlag=19
#------------------
whenBuilding_temporarilyConvertTo:shikishima_temp${tempFile}
#------------------

spawnEffects:CUSTOM:smokeStarEngineI*4

convertTo: shikishima_Nodachi

#---------------------------------------------------------------------------------
[action_Recon]
#Unfurl
displayType: infoOnlyNoBox
isVisible: true
buildSpeed: 0
text: Reconstruct
description: [Passive]\nReconstruct with advance nano repair\n-Restore hp in rapid rate while consuming shield\nDisable if attacking or with enemies within 250 radius


iconImage: ROOT:data\icons\passive_reconstr.png
iconExtraImage: ROOT:data\icons\passive_reconstrOn.png
iconExtraIsVisible: if self.hasFlag(id=9)
[action_Taunt]
isVisible: if self.isEnergyFull() and not self.hasFlag(id=16)
isLocked: if self.queueSize(greaterThan=0)
isGuiBlinking: if self.isEnergyFull()
buildSpeed: 0
text: Taunt
playAnimation: taunt
addResources: setFlag=18-19
alsoQueueAction: PLAYING
iconImage: ROOT:data\icons\passive__.png
[hiddenAction_PLAYING]
buildSpeed: 9s
addResources: unsetFlag=18-19
whenBuilding_cannotMove: true
#-----------------------tun
[hiddenAction_onDeath]
autoTriggerOnEvent: destroyed
#playSoundAtUnit: ROOT:data\soundFx\_dio-wryyy.ogg: 1.5
[hiddenAction_sad]
autoTrigger: if self.isOverLiquid()
addResources: hp=-999999
playSoundAtUnit: ROOT:data\soundFx\_dio-wryyy.ogg: 2
showQuickWarLogToPlayer: wryyyyyyyy!!!
[hiddenAction_created]
autoTriggerOnEvent: created
alsoQueueAction: startTaunt
playSoundGlobally: ROOT:data\soundFx\interface_arrival_shiki.ogg
showMessageToAllEnemyPlayers: WARNING: Enemy Shikishima has been built
[hiddenAction_startTaunt]
buildSpeed: 0.5s
alsoQueueAction: Taunt2
[action_Taunt2]
isVisible: ${taunt}
ai_isDisabled: true
isLocked: if self.isEnergyFull()
buildSpeed: 0
text: Taunt 
description: -Shiki: Come on then, this place will be you grave!\n-Emeny introduce himself\n-Shiki: Is that another word for coffin,...Bwahahahahahaha!\n+10 Moral
iconImage: ROOT:data\icons\passive_''''''''____.png
playAnimation: taunt2
addResources: energy=-10
#addActionCooldownTime: 40s
alsoQueueAction: Taunt2Addenergy
[hiddenAction_Taunt2Addenergy]
buildSpeed: 0.4s
addResources: energy=10
whenBuilding_temporarilyConvertTo: shikishima_temp2
playSoundAtUnit: ROOT:data\soundFx\melee_bladegun_fire_01.ogg: 0.3
alsoQueueAction: Taunt2End
[hiddenAction_Taunt2End]
buildSpeed: 2s
whenBuilding_temporarilyConvertTo: shikishima_temp2
[action_+energy]
isVisible: ${skill}
buildSpeed: 0
text: +energy
addResources: energy=10
[action_-energy]
isVisible: ${skill}
buildSpeed: 0
text: -energy
description: unsetFlag=6
addResources: energy=-10, unsetFlag=6
#----------------------------Movement
[hiddenAction_MoveOn]
#autoTrigger: if not self.hasFlag(id=1) and self.isMoving() and self.customTimer(laterThanSeconds=${resetT}) and self.numberOfAttachedUnits(withTag='thirdArmReady', greaterThan=0)
addResources: setFlag=1
temporarilyAddTags: shikiMove
showQuickWarLogToPlayer: shikiMove
[hiddenAction_MoveOff]
#autoTrigger: if self.hasFlag(id=1) and not self.isMoving() and not self.hasActiveWaypoint(type='MOVE') and self.customTimer(laterThanSeconds=${resetT+0.5})
addResources: unsetFlag=1
temporarilyRemoveTags: shikiMove
showQuickWarLogToPlayer: shikiNOTMove
[hiddenAction_NotMovingAttacking]
autoTrigger: if self.hasFlag(id=1) and not self.isMoving() and self.isAttacking()
addResources: unsetFlag=1
temporarilyRemoveTags: shikiMove
[hiddenAction_ResetTimer]
resetCustomTimer: false
#----------------------------Notattavking combo break
[hiddenAction_NotAttacking]
autoTrigger: if not self.isAttacking() and self.ammo(greaterThan=0)
alsoTriggerAction: ResetTimer, NotAttackingAmmo1, NotAttackingAmmo2, NotAttackingAmmo3, NotAttackingAmmo4
[hiddenAction_NotAttackingAmmo1]
requireConditional: if self.ammo(greaterThan=3) and self.ammo(lessThan=5)
addResources: ammo=-4
[hiddenAction_NotAttackingAmmo2]
requireConditional: if self.ammo(greaterThan=2) and self.ammo(lessThan=4)
addResources: ammo=-3
[hiddenAction_NotAttackingAmmo3]
requireConditional: if self.ammo(greaterThan=1) and self.ammo(lessThan=3)
addResources: ammo=-2
[hiddenAction_NotAttackingAmmo4]
requireConditional: if self.ammo(greaterThan=0) and self.ammo(lessThan=2)
addResources: ammo=-1
#----------------------------
#passive
[hiddenAction_kill]
autoTriggerOnEvent: killedAnyUnit
addResources: hp=${core.maxHp-(core.maxHp-((pertHp/100)*core.maxHp))}
#[hiddenAction_created]
#autoTriggerOnEvent: created
#resetCustomTimer: true
[hiddenAction_deathMessageToEnemy]
autoTriggerOnEvent: destroyed
requireConditional: if not self.isOverLiquid()
showMessageToAllEnemyPlayers: ENEMY: %{self.playerName}'s ${core.displayText} fall to the seven hells

[animation_taunt]
#onActions: idle
blendIn: 0.5s
blendOut: 0.5s
KeyframeTimeScale: 0.15

#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_1s: {x:-3, y:10, dir:0}
arm6_2s: {x:-10, y:16, dir:0}
arm6_25s: {x:-10, y:16, dir:0}
arm6_26s: {x:-10, y:16, dir:0}
arm6_27.5s: {x:0, y:0, dir:0}
arm6_30s: {x:0, y:0, dir:0}
arm6_40s: {x:0, y:0, dir:-25}
arm6_50s: {x:0, y:0, dir:-10}
arm6_50.5s: {x:0, y:0, dir:90}
arm6_55.5s: {x:0, y:0, dir:90}
arm6_56.3s: {x:0, y:0, dir:40}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_1s: {x:3, y:-10, dir:-35}
arm7_2s: {x:10, y:-16, dir:-35}
arm7_10s: {x:10, y:-16, dir:-35}
arm7_10.5s: {x:10, y:-16, dir:-15}
arm7_11.5s: {x:10, y:-16, dir:-35}
arm7_12.5s: {x:10, y:-16, dir:-15}
arm7_13.5s: {x:10, y:-16, dir:-35}
arm7_14.5s: {x:10, y:-16, dir:-15}
arm7_15.5s: {x:10, y:-16, dir:-35}
arm7_26s: {x:10, y:-16, dir:-35}
arm7_28s: {x:0, y:0, dir:0}
arm7_30s: {x:0, y:0, dir:0}
arm7_40s: {x:0, y:0, dir:25}
arm7_50s: {x:0, y:0, dir:10}
arm7_50.5s: {x:0, y:0, dir:-30}
#tachi
arm5_0s: {x:0, y:0, dir:0}
arm5_1s: {x:-8, y:16, dir:60}
arm5_26s: {x:-8, y:16, dir:60}
arm5_27.5s: {x:-0, y:0, dir:0}
arm5_30s: {x:-0, y:0, dir:-10}
arm5_40s: {x:-10, y:-3, dir:-20}
arm5_50s: {x:-5, y:0, dir:-20}
arm5_50.5s: {x:24, y:-27, dir:160}
arm5_55.5s: {x:24, y:-27, dir:160}
arm5_56.3s: {x:17, y:-5, dir:40}
#tachi-G
arm4_0s: {x:0, y:0, dir:0}
arm4_1s: {x:-8, y:16, dir:60}
arm4_26s: {x:-8, y:16, dir:60}
arm4_27.5s: {x:-0, y:0, dir:0}
arm4_30s: {x:-0, y:0, dir:-10}
arm4_40s: {x:-10, y:-3, dir:-20}
arm4_50s: {x:-5, y:0, dir:-20}
arm4_50.5s: {x:24, y:-27, dir:160}
arm4_55.5s: {x:24, y:-27, dir:160}
arm4_56.3s: {x:17, y:-5, dir:40}


#bOBY
arm8_0s: {x:0, y:0, dir:0}
arm8_2s: {x:0, y:0, dir:-65}
arm8_26s: {x:0, y:0, dir:-65}
arm8_28s: {x:0, y:0, dir:0}
arm8_30s: {x:0, y:0, dir:0}
arm8_40s: {x:0, y:0, dir:0}
#rocket
arm9_0s: {x:0, y:0, dir:0}
arm9_2s: {x:0, y:0, dir:-65}
arm9_26s: {x:0, y:0, dir:-65}
arm9_28s: {x:0, y:0, dir:0}
arm9_30s: {x:0, y:0, dir:0}
arm9_40s: {x:0, y:0, dir:0}
#RAIL
arm10_0s: {x:0, y:0, dir:0}
arm10_2s: {x:0, y:0, dir:-65}
arm10_26s: {x:0, y:0, dir:-65}
arm10_28s: {x:0, y:0, dir:0}
arm10_30s: {x:0, y:0, dir:0}
arm10_40s: {x:0, y:0, dir:0}

arm11_0s: {x:0, y:0, dir:0}
arm11_2s: {x:0, y:0, dir:-90}
arm11_26s: {x:0, y:0, dir:-90}
arm11_28s: {x:0, y:0, dir:0}
arm11_30s: {x:0, y:0, dir:0}
arm11_40s: {x:0, y:0, dir:0}

#Temp arm parts

arm14_0s: {x:0, y:0, dir:0}
arm14_2s: {x:0, y:0, dir:-65}
arm14_26s: {x:0, y:0, dir:-65}
arm14_28s: {x:0, y:0, dir:0}
arm14_30s: {x:0, y:0, dir:0}
arm14_40s: {x:0, y:0, dir:0}

arm17_0s: {x:0, y:0, dir:0}
arm17_2s: {x:0, y:0, dir:-65}
arm17_26s: {x:0, y:0, dir:-65}
arm17_28s: {x:0, y:0, dir:0}
arm17_30s: {x:0, y:0, dir:0}
arm17_40s: {x:0, y:0, dir:0}

arm18_0s: {x:0, y:0, dir:0}
arm18_2s: {x:0, y:0, dir:-65}
arm18_26s: {x:0, y:0, dir:-65}
arm18_28s: {x:0, y:0, dir:0}
arm18_30s: {x:0, y:0, dir:0}
arm18_40s: {x:0, y:0, dir:0}

arm19_0s: {x:0, y:0, dir:0}
arm19_2s: {x:0, y:0, dir:-65}
arm19_26s: {x:0, y:0, dir:-65}
arm19_28s: {x:0, y:0, dir:0}
arm19_30s: {x:0, y:0, dir:0}
arm19_40s: {x:0, y:0, dir:0}
[animation_taunt2]
#Taunt
#onActions: idle
blendIn: 0.5s
blendOut: 0.5s
KeyframeTimeScale: 0.15

#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_2s: {x:0, y:0, dir:-50}
arm6_2.5s: {x:0, y:0, dir:-50}
arm6_3.5s: {x:0, y:0, dir:90}
arm6_15.5s: {x:0, y:0, dir:90}
arm6_16.3s: {x:0, y:0, dir:40}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_0.01s: {x:0, y:0, dir:50}
arm7_2.5s: {x:0, y:0, dir:50}
arm7_3.5s: {x:0, y:0, dir:50}
arm7_4.5s: {x:0, y:0, dir:50}
arm7_15.5s: {x:0, y:0, dir:50}
arm7_16.3s: {x:0, y:0, dir:50}
#tachi
arm5_0s: {x:0, y:0, dir:0}
arm5_2s: {x:-19, y:-7, dir:-40}
arm5_2.5s: {x:-19, y:-7, dir:-40}
arm5_2.8s: {x:19, y:0, dir:40}
arm5_3.2s: {x:25, y:-10, dir:60}
arm5_3.5s: {x:24, y:-27, dir:160}
arm5_15.5s: {x:24, y:-27, dir:160}
arm5_16.3s: {x:17, y:-5, dir:40}
#tachi-g
arm4_0s: {x:0, y:0, dir:0}
arm4_2s: {x:-19, y:-7, dir:-40}
arm4_2.5s: {x:-19, y:-7, dir:-40}
arm4_2.8s: {x:19, y:0, dir:40}
arm4_3.2s: {x:25, y:-10, dir:60}
arm4_3.5s: {x:24, y:-27, dir:160}
arm4_15.5s: {x:24, y:-27, dir:160}
arm4_16.3s: {x:17, y:-5, dir:40}
[animation_attack]
#Normal Attack
#Weapon used: Tachi
#onActions: attack
blendIn: 0.5s
blendOut: 0.5s
KeyframeTimeScale: 0.15
#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_2s: {x:0, y:0, dir:-50}
arm6_2.5s: {x:0, y:0, dir:-50}
arm6_3.5s: {x:0, y:0, dir:90}
arm6_4.5s: {x:0, y:0, dir:90}
arm6_5.3s: {x:0, y:0, dir:40}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_1s: {x:0, y:0, dir:-50}
arm7_2.5s: {x:0, y:0, dir:-50}
#tachi
arm5_0s: {x:0, y:0, dir:0}
arm5_2s: {x:-19, y:-7, dir:-40}
arm5_2.5s: {x:-19, y:-7, dir:-40}
arm5_2.8s: {x:19, y:0, dir:40}
arm5_3.2s: {x:25, y:-10, dir:60}
arm5_3.5s: {x:26, y:-25, dir:100}
arm5_4.5s: {x:26, y:-25, dir:100}
arm5_5.3s: {x:18, y:-6, dir:40}
#tachi-g
arm4_0s: {x:0, y:0, dir:0}
arm4_2s: {x:-19, y:-7, dir:-40}
arm4_2.5s: {x:-19, y:-7, dir:-40}
arm4_2.8s: {x:19, y:0, dir:40}
arm4_3.2s: {x:25, y:-10, dir:60}
arm4_3.5s: {x:26, y:-25, dir:100}
arm4_4.5s: {x:26, y:-25, dir:100}
arm4_5.3s: {x:18, y:-6, dir:40}
#bOBY
arm8_0s: {x:0, y:0, dir:0}
arm8_1s: {x:0, y:0, dir:1}
#rocket
arm9_0s: {x:0, y:0, dir:0}
arm9_1s: {x:0, y:0, dir:2}
#rail I
arm10_0s: {x:0, y:0, dir:0}
arm10_1s: {x:0, y:0, dir:2}

arm11_0s: {x:0, y:0, dir:0}
arm11_1s: {x:0, y:0, dir:2}
#temp arm parts
arm14_0s: {x:0, y:0, dir:0}
arm14_1s: {x:0, y:0, dir:2}

arm17_0s: {x:0, y:0, dir:0}
arm17_1s: {x:0, y:0, dir:2}

arm18_0s: {x:0, y:0, dir:0}
arm18_1s: {x:0, y:0, dir:2}

arm19_0s: {x:0, y:0, dir:0}
arm19_1s: {x:0, y:0, dir:2}
[animation_attackQuick]
#Quick slash
#Weapon used: Tachi
#onActions: attack
blendIn: 0.5s
blendOut: 0.5s
KeyframeTimeScale: 0.15

#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_0.5s: {x:-3, y:-11, dir:30}
arm6_7s: {x:-3, y:-11, dir:30}
arm6_9s: {x:0, y:0, dir:0}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_0.5s: {x:3, y:12, dir:90}
arm7_4s: {x:3, y:12, dir:90}
arm7_5s: {x:3, y:12, dir:-60}
arm7_6s: {x:3, y:12, dir:-60}
arm7_7s: {x:3, y:12, dir:90}
arm7_9s: {x:0, y:0, dir:-10}
#tachi
arm5_0s: {x:0, y:0, dir:0}
arm5_0.5s: {x:11, y:-15, dir:50}
arm5_3s: {x:11, y:-15, dir:50}
arm5_7s: {x:11, y:-15, dir:50}
arm5_9s: {x:0, y:0, dir:0}
#tachi-G
arm4_0s: {x:0, y:0, dir:0}
arm4_0.5s: {x:11, y:-15, dir:50}
arm4_3s: {x:11, y:-15, dir:50}
arm4_7s: {x:11, y:-15, dir:50}
arm4_9s: {x:0, y:0, dir:0}


#tachi-s
arm3_0s: {x:0, y:0, dir:0}
arm3_0.5s: {x:0, y:0, dir:-10}
arm3_4s: {x:0, y:0, dir:-15}
arm3_4.3s: {x:-18, y:32, dir:-120}
arm3_4.6s: {x:-36, y:32, dir:-160}
arm3_5s: {x:-54, y:24, dir:-200}
arm3_6s: {x:-54, y:24, dir:-200}
arm3_6.4s: {x:-36, y:32, dir:-160}
arm3_6.7s: {x:-18, y:32, dir:-120}
arm3_7s: {x:0, y:0, dir:0}
#bOBY
arm8_0s: {x:0, y:0, dir:0}
arm8_0.5s: {x:0, y:0, dir:40}
arm8_7s: {x:0, y:0, dir:40}
arm8_9s: {x:0, y:0, dir:0}
#rocket
arm9_0s: {x:0, y:0, dir:0}
arm9_0.5s: {x:0, y:0, dir:40}
arm9_7s: {x:0, y:0, dir:40}
arm9_9s: {x:0, y:0, dir:0}

#rail I
arm10_0s: {x:0, y:0, dir:0}
arm10_0.5s: {x:0, y:0, dir:30}
arm10_7s: {x:0, y:0, dir:30}
arm10_9s: {x:0, y:0, dir:0}

arm11_0s: {x:0, y:0, dir:0}
arm11_0.5s: {x:0, y:0, dir:20}
arm11_7s: {x:0, y:0, dir:20}
arm11_9s: {x:0, y:0, dir:0}

#temp arm parts
arm14_0s: {x:0, y:0, dir:0}
arm14_0.5s: {x:0, y:0, dir:20}
arm14_7s: {x:0, y:0, dir:20}
arm14_9s: {x:0, y:0, dir:0}

arm17_0s: {x:0, y:0, dir:0}
arm17_0.5s: {x:0, y:0, dir:20}
arm17_7s: {x:0, y:0, dir:20}
arm17_9s: {x:0, y:0, dir:0}

arm18_0s: {x:0, y:0, dir:0}
arm18_0.5s: {x:0, y:0, dir:20}
arm18_7s: {x:0, y:0, dir:20}
arm18_9s: {x:0, y:0, dir:0}

arm19_0s: {x:0, y:0, dir:0}
arm19_0.5s: {x:0, y:0, dir:20}
arm19_7s: {x:0, y:0, dir:20}
arm19_9s: {x:0, y:0, dir:0}
[animation_attack2]
#Stab
#Weapon used: Tachi
#onActions: attack
blendIn: 0.5s
blendOut: 0.5s
KeyframeTimeScale: 0.15

#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_2s: {x:-3, y:-10, dir:80}
arm6_3s: {x:-3, y:-10, dir:80}
arm6_3.5s: {x:-5, y:12, dir:10}
arm6_4.5s: {x:-10, y:16, dir:0}
arm6_5s: {x:-10, y:16, dir:0}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_2s: {x:3, y:10, dir:0}
arm7_3s: {x:3, y:10, dir:0}
arm7_3.5s: {x:5, y:-12, dir:-20}
arm7_4.5s: {x:10, y:-16, dir:-35}
arm7_5s: {x:10, y:-16, dir:-35}
#tachi
arm5_0s: {x:0, y:0, dir:0}
arm5_2s: {x:24, y:-28, dir:70}
arm5_3s: {x:24, y:-28, dir:70}
arm5_3.2s: {x:0, y:12, dir:60}
arm5_4.5s: {x:-8, y:16, dir:60}
arm5_5s: {x:-8, y:16, dir:60}
#tachi-g
arm4_0s: {x:0, y:0, dir:0}
arm4_2s: {x:24, y:-28, dir:70}
arm4_3s: {x:24, y:-28, dir:70}
arm4_3.2s: {x:0, y:12, dir:60}
arm4_4.5s: {x:-8, y:16, dir:60}
arm4_5s: {x:-8, y:16, dir:60}
#bOBY
arm8_2s: {x:0, y:0, dir:25}
arm8_3s: {x:0, y:0, dir:25}
arm8_3.5s: {x:0, y:0, dir:-45}
arm8_4.5s: {x:0, y:0, dir:-65}
arm8_5s: {x:0, y:0, dir:-65}
#rocket
arm9_2s: {x:0, y:0, dir:25}
arm9_3s: {x:0, y:0, dir:25}
arm9_3.5s: {x:0, y:0, dir:-45}
arm9_4.5s: {x:0, y:0, dir:-65}
arm9_5s: {x:0, y:0, dir:-65}
#rail I
arm10_2s: {x:0, y:0, dir:25}
arm10_3s: {x:0, y:0, dir:25}
arm10_3.5s: {x:0, y:0, dir:-45}
arm10_4.5s: {x:0, y:0, dir:-55}
arm10_5s: {x:0, y:0, dir:-55}

arm11_2s: {x:0, y:0, dir:25}
arm11_3s: {x:0, y:0, dir:25}
arm11_3.5s: {x:0, y:0, dir:-45}
arm11_4.5s: {x:0, y:0, dir:-75}
arm11_5s: {x:0, y:0, dir:-75}

#temp arm parts
arm14_2s: {x:0, y:0, dir:25}
arm14_3s: {x:0, y:0, dir:25}
arm14_3.5s: {x:0, y:0, dir:-45}
arm14_4.5s: {x:0, y:0, dir:-80}
arm14_5s: {x:0, y:0, dir:-80}

arm17_2s: {x:0, y:0, dir:25}
arm17_3s: {x:0, y:0, dir:25}
arm17_3.5s: {x:0, y:0, dir:-45}
arm17_4.5s: {x:0, y:0, dir:-80}
arm17_5s: {x:0, y:0, dir:-80}

arm18_2s: {x:0, y:0, dir:25}
arm18_3s: {x:0, y:0, dir:25}
arm18_3.5s: {x:0, y:0, dir:-45}
arm18_4.5s: {x:0, y:0, dir:-80}
arm18_5s: {x:0, y:0, dir:-80}

arm19_2s: {x:0, y:0, dir:25}
arm19_3s: {x:0, y:0, dir:25}
arm19_3.5s: {x:0, y:0, dir:-45}
arm19_4.5s: {x:0, y:0, dir:-80}
arm19_5s: {x:0, y:0, dir:-80}
[animation_attack3]
#Heavy Slash
#Weapon used: Tachi + wave
#onActions: attack
blendIn: 0.5s
blendOut: 0.5s
KeyframeTimeScale: 0.15

#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_1s: {x:-3, y:10, dir:-80}
arm6_2s: {x:-10, y:16, dir:-80}
arm6_7s: {x:-10, y:16, dir:-80}
arm6_7.5s: {x:-3, y:10, dir:-20}
arm6_8s: {x:0, y:0, dir:40}
arm6_9s: {x:-1, y:-7, dir:150}
arm6_10s: {x:-1, y:-7, dir:150}
arm6_12s: {x:0, y:0, dir:0}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_1s: {x:3, y:-10, dir:-35}
arm7_2s: {x:10, y:-16, dir:-35}
arm7_7s: {x:10, y:-16, dir:-35}
arm7_7.5s: {x:1, y:-8, dir:-45}
arm7_8s: {x:1, y:-3, dir:-75}
arm7_9s: {x:1, y:5, dir:-50}
arm7_10s: {x:1, y:5, dir:-50}
arm7_12s: {x:0, y:0, dir:0}
#tachi
arm5_0s: {x:0, y:0, dir:0}
arm5_0.3s: {x:-17, y:2, dir:-55}
arm5_2s: {x:-34, y:-2, dir:-95}
arm5_7s: {x:-34, y:-2, dir:-95}
arm5_7.5s: {x:7, y:7, dir:60}
arm5_8s: {x:23, y:-14, dir:150}
arm5_8.5s: {x:10, y:-52, dir:185}
arm5_10s: {x:10, y:-52, dir:185}
arm5_11s: {x:20, y:-13, dir:150}
arm5_12s: {x:0, y:0, dir:0}
#arm5_10s: {x:23, y:-14, dir:140}
#arm5_15s: {x:10, y:-52, dir:185}
#tachi-g
arm4_0s: {x:0, y:0, dir:0}
arm4_0.3s: {x:-17, y:2, dir:-55}
arm4_2s: {x:-34, y:-2, dir:-95}
arm4_7s: {x:-34, y:-2, dir:-95}
arm4_7.5s: {x:7, y:7, dir:60}
arm4_8s: {x:23, y:-14, dir:150}
arm4_8.5s: {x:10, y:-52, dir:185}
arm4_10s: {x:10, y:-52, dir:185}
arm4_11s: {x:20, y:-13, dir:150}
arm4_12s: {x:0, y:0, dir:0}
#bOBY
arm8_0s: {x:0, y:0, dir:0}
arm8_2s: {x:0, y:0, dir:-65}
arm8_7s: {x:0, y:0, dir:-65}
arm8_8s: {x:0, y:0, dir:0}
arm8_9s: {x:0, y:0, dir:20}
arm8_10s: {x:0, y:0, dir:20}
arm8_12s: {x:0, y:0, dir:0}
#rocket
arm9_0s: {x:0, y:0, dir:0}
arm9_2s: {x:0, y:0, dir:-65}
arm9_7s: {x:0, y:0, dir:-65}
arm9_8s: {x:0, y:0, dir:0}
arm9_9s: {x:0, y:0, dir:20}
arm9_10s: {x:0, y:0, dir:20}
arm9_12s: {x:0, y:0, dir:0}
#rail I
arm10_0s: {x:0, y:0, dir:0}
arm10_2s: {x:0, y:0, dir:-65}
arm10_7s: {x:0, y:0, dir:-65}
arm10_8s: {x:0, y:0, dir:0}
arm10_9s: {x:0, y:0, dir:20}
arm10_10s: {x:0, y:0, dir:20}
arm10_12s: {x:0, y:0, dir:0}

arm11_0s: {x:0, y:0, dir:0}
arm11_2s: {x:0, y:0, dir:-130}
arm11_7s: {x:0, y:0, dir:-130}
arm11_8s: {x:0, y:0, dir:0}
arm11_9s: {x:0, y:0, dir:20}
arm11_10s: {x:0, y:0, dir:20}
arm11_12s: {x:0, y:0, dir:0}

#temp arm parts
arm14_0s: {x:0, y:0, dir:0}
arm14_2s: {x:0, y:0, dir:-115}
arm14_7s: {x:0, y:0, dir:-115}
arm14_8s: {x:0, y:0, dir:0}
arm14_9s: {x:0, y:0, dir:20}
arm14_10s: {x:0, y:0, dir:20}
arm14_12s: {x:0, y:0, dir:0}

arm17_0s: {x:0, y:0, dir:0}
arm17_2s: {x:0, y:0, dir:-115}
arm17_7s: {x:0, y:0, dir:-115}
arm17_8s: {x:0, y:0, dir:0}
arm17_9s: {x:0, y:0, dir:20}
arm17_10s: {x:0, y:0, dir:20}
arm17_12s: {x:0, y:0, dir:0}

arm18_0s: {x:0, y:0, dir:0}
arm18_2s: {x:0, y:0, dir:-125}
arm18_7s: {x:0, y:0, dir:-125}
arm18_8s: {x:0, y:0, dir:0}
arm18_9s: {x:0, y:0, dir:20}
arm18_10s: {x:0, y:0, dir:20}
arm18_12s: {x:0, y:0, dir:0}

arm19_0s: {x:0, y:0, dir:0}
arm19_2s: {x:0, y:0, dir:-100}
arm19_7s: {x:0, y:0, dir:-100}
arm19_8s: {x:0, y:0, dir:0}
arm19_9s: {x:0, y:0, dir:20}
arm19_10s: {x:0, y:0, dir:20}
arm19_12s: {x:0, y:0, dir:0}

[animation_attack3b]
@copyFromSection: animation_attack3
#Heavy Slash
#Weapon used: Tachi + wave
#onActions: attack
blendIn: 0.1s
blendOut: 0.1s
KeyframeTimeScale: 0.07

[animation_Unfurl]
#Unfurl
#onActions: attack
blendIn: 0.5s
blendOut: 0.5s
KeyframeTimeScale: 0.15

#------------------------------------------
#Shoulder armor temp
arm14_0s: {x:0, y:0, dir:0}
arm14_2s: {x:0, y:-10, dir:0}

arm17_0s: {x:0, y:0, dir:0}
arm17_2s: {x:0, y:-11, dir:0}

arm18_0s: {x:0, y:0, dir:0}
arm18_2s: {x:3, y:-10, dir:0}

arm19_0s: {x:0, y:0, dir:0}
arm19_2s: {x:-5, y:-10, dir:0}
arm19_20s: {x:-5, y:-10, dir:0}
#------------------------------------------
#Shoulder armor
arm15_0s: {x:0, y:0, dir:0}
arm15_4s: {x:0, y:0, dir:0}
arm15_6s: {x:0, y:0, dir:-55}
arm15_8s: {x:0, y:0, dir:-120}

arm16_0s: {x:0, y:0, dir:0}
arm16_4s: {x:0, y:0, dir:0}
arm16_6s: {x:0, y:0, dir:-55}

arm11_0s: {x:0, y:0, dir:0}
arm11_4s: {x:0, y:0, dir:0}
arm11_6s: {x:0, y:0, dir:-55}
[animation_Moving]
#Unfurl
onActions: move
blendIn: 0.3s
blendOut: 0.2s
KeyframeTimeScale: 0.15

#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_1s: {x:0, y:0, dir:90}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_1s: {x:0, y:0, dir:-20}
#tachi
arm5_1s: {x:20, y:-25, dir:90}
#tachi-g
arm4_1s: {x:24, y:-25, dir:90}
arm4_20s: {x:24, y:-25, dir:90}
[animation_IDLE]
#Unfurl
onActions: idle
blendIn: 0.4s
blendOut: 0.2s
KeyframeTimeScale: 0.15

#R-arm
arm6_0s: {x:0, y:0, dir:0}
arm6_0.5s: {x:0, y:0, dir:0}
arm6_1.5s: {x:0, y:0, dir:-60}
arm6_3s: {x:0, y:0, dir:-60}
arm6_4s: {x:0, y:0, dir:0}
#l-arm
arm7_0s: {x:0, y:0, dir:0}
arm7_0.5s: {x:0, y:0, dir:-30}
arm7_4s: {x:0, y:0, dir:-30}
arm7_5s: {x:-2, y:-10, dir:5}
#tachi
arm5_0.5s: {x:0, y:0, dir:0}
arm5_1.5s: {x:-38, y:-19, dir:-90}
arm5_100s: {x:-38, y:-19, dir:-90}
#tachi-g
arm4_0.5s: {x:0, y:0, dir:0}
arm4_1.5s: {x:-38, y:-19, dir:-90}
arm4_100s: {x:-38, y:-19, dir:-90}
#[hiddenAction_created]
#autoTriggerOnEvent: created
#attachments_addNewUnits: shikishima_thirdArm
[attachment_thirdArm]
#thirdArm and head
x: 0
y: 0
#isVisible:false
idleDir:0
lockRotation:true
onCreateSpawnUnitOf: shikishima_thirdArm
canBeAttackedAndDamaged: false
isUnselectable: true
#lockLegMovement:false
canAttack:false
keepAliveWhenParentDies:false
prioritizeParentsMainTarget:true
#keepWaypointsNeedingMovement: true
showAllActionsFrom: if self.tags(includes='shikiMeleeNodachi')
[attachment_head]
#thirdArm and head
x: 0
y: 0
#isVisible:false
idleDir:0
lockRotation:true
onCreateSpawnUnitOf: shikishima_head
canBeAttackedAndDamaged: false
isUnselectable: true
#lockLegMovement:false
canAttack:true
keepAliveWhenParentDies:false
prioritizeParentsMainTarget:true
[graphics]
total_frames: 1

image:        sample3.png
image_wreak:  dead_shikishima_body.png
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3

icon_zoomed_out: ROOT:data\Icon_Units\unit_special.png
image_shield: shikishima_shield.png
showQueueBar: ${showBar}
showEnergyBar: ${showBar}

lock_shadow_rotation_with_main_turret:true
lock_leg_rotation_with_main_turret:true
lock_body_rotation_with_main_turret: true
[attack]
@global TurnSpeed: 4.5
@global turnAcceleration: 0.5
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasFlag(id=18)
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: ${TurnSpeed}

isFixedFiring: true
turretMultiTargeting: false
maxAttackRange: 30
shootDelay: 240
isMelee: true
meleeEngangementDistance: 100

aimOffsetSpread: 0
turretRotateWithBody: true
[turret_1]
#body
x: 0
y: 0

invisible: true
turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}
canShoot: false
[turret_DummyT]
#dummy
x: -20
y:0
attachedTo: 1
slave: true
projectile: Dummy
size: 5
shoot_sound:NONE
shoot_sound_vol:0
shoot_flame: NONE
canShoot: true
image: ROOT:data\arrow_2.png

turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}
[turret_Nodachi]
#Nodachi AUTO
#dummy
x:0
y:0
attachedTo: 1
slave: true
projectile: Dummy
size: 5
warmup: 60
delay: ${cool}s
canAttackLandUnits: if not self.isEnergyFull()
canAttackCondition: if self.hasFlag(id=15) and self.customTimer(laterThanSeconds=${cool})
shoot_sound:NONE
shoot_sound_vol:0
shoot_flame: NONE
canShoot: false

turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}

#------------------------------------
onShoot_triggerActions: playAnmation4
#------------------------------------
#--------------------------------------------------Normal Attack
[turret_Normal_attack]
#Normal Attack
x: 0
y: 0
attachedTo: 1
slave: true
invisible: true
warmup: 1
delay: 60
projectile: dummy
turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}
#shoot_sound: meleAttack2.ogg
#shoot_flame: CUSTOM:EkSamuraiSlash
onShoot_playAnimation: attack
canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.isEnergyFull()
canAttackUnderwaterUnits: false
canAttackCondition: if not self.hasFlag(id=1) or not self.hasFlag(id=2) or not self.hasFlag(id=3) and not self.hasFlag(id=7) or not self.ammo(greaterThan=4) 
size: 1

#---------------------------
#onShoot_triggerActions: whileMoving
#---------------------------
[turret_Normal_attackDmg]
#Normal Attack
x: 0
y: 0
attachedTo: 1
slave: true
invisible: true
#shoot_sound: ROOT:data\soundFx\melee_bladegun_fire_01.ogg, ROOT:data\soundFx\melee_bladegun_fire_02.ogg
shoot_sound: ROOT:data\soundFx\melee_bladegun_fire_01.ogg
projectile: 1
linkDelayWithTurret: Normal_attack
warmup: 30
turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}
canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.isEnergyFull() or not self.hasFlag(id=7)
canAttackUnderwaterUnits: false
canAttackCondition: if not self.hasFlag(id=1) or not self.hasFlag(id=2) or not self.hasFlag(id=3) and not self.hasFlag(id=7) or not self.ammo(greaterThan=4) 

#------------------------------------
onShoot_triggerActions: N1a, ResetTimer
#------------------------------------

#resourceUsage: unsetFlag=1, energy=-0.5, ammo=-1
resourceUsage: unsetFlag=1, ammo=-1

size: 1


#--------------------------------------------------Stab
[turret_Stab]
#Stab
x: 0
y: 0
attachedTo: 1
slave: true
invisible: true
warmup: 32
delay: 200
projectile: dummy
turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}

shoot_sound: NONE

#------------------------------------
onShoot_triggerActions: playAnmation2, ResetTimer
#onShoot_playAnimation: attack
#------------------------------------

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.isEnergyFull() or self.hasFlag(id=1) and self.isMoving()
canAttackUnderwaterUnits: false
canAttackCondition: if self.hasFlag(id=1) or not self.hasFlag(id=3) and not self.hasFlag(id=7) or not self.ammo(greaterThan=3) 
resourceUsage: setFlag=1
size: 1
[turret_Quick]
#Quick
x: 0
y: 0
attachedTo: 1
slave: true
invisible: true

warmup: 20

delay: 200
projectile: dummy
turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}

shoot_sound: NONE

#------------------------------------
onShoot_triggerActions: playAnmation5, playAnmation5Multi, ResetTimer
#onShoot_playAnimation: attack
#------------------------------------

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.isEnergyFull() or self.hasFlag(id=7)
canAttackUnderwaterUnits: false
canAttackCondition: if self.hasFlag(id=1) or not self.hasFlag(id=3) or self.ammo(greaterThan=4)
resourceUsage: setFlag=1, setFlag=7, ammo=4
size: 1
#--------------------------------------------------Heavy_attack]
[turret_Heavy_attack]
# Attack
x: 0
y: 0
attachedTo: 1
slave: true
invisible: true

#warmup: 50
warmup:40
delay: 300
projectile: dummy
turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}

#------------------------------------
onShoot_triggerActions: playAnmation3, ResetTimer
#onShoot_playAnimation: attack
#------------------------------------

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   if self.isEnergyFull() and not self.hasFlag(id=1)
canAttackUnderwaterUnits: false
canAttackCondition: if not self.hasFlag(id=1) or not self.hasFlag(id=2) or not self.hasFlag(id=3)
resourceUsage: setFlag=3
size: 1
#---------------------------------------------------------------IAI
[turret_SwordWaveT]
x: 0
y: 0
attachedTo: 1
slave: true
canShoot: false
invisible: true
limitingRange: ${SWcastrng}
size: 0
projectile: Spawner

turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}
[turret_iaiT]
x: 0
y: 0
attachedTo: 1
slave: true
canShoot: false
invisible: true
limitingRange: ${iaicastrng}
size: 0
projectile: Spawner

turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}
[turret_iai]
x: 0
y: 340
attachedTo: 1
slave: true
image: beam1_end.png
canShoot: false
invisible: true
projectile: iaiTP
limitingRange: 340
showRangeUIGuide: true

turnSpeed: ${TurnSpeed}
turnSpeedAcceleration: ${turnAcceleration}
#---------------------------------------------------------------IAI
[projectile_Spawner]
#dummy
life: 0.5
deflectionPower: -1
speed: 20
spawnUnit: followMeSamurai

directDamage: 0
explodeOnEndOfLife: true
largeHitEffect: false
explodeEffect: NONE

[projectile_iaiTP]
#dummy
areaDamage: 0
areaRadius: 0
life: 0
speed: 0
drawSize: 0
color: #46ebff
lightColor: #46ebff
lightSize: 0

explodeEffect: NONE
explodeOnEndOfLife: true
targetGround:true
targetGroundSpread: 0
teleportSource: true


[projectile_iaiDmg]
life:0
speed:1
drawSize:0
hitSound: true
#instant: true
targetGround:true
targetGroundSpread: 0
explodeOnEndOfLife: TRUE
largeHitEffect: false
deflectionPower: -1
#-------------------------damage
areaDamage:450
areaRadius: 50
#--------------------------
hullDamageMultiplier: 1
armourIgnoreAmount: 50
mutator1_ifUnitWithTags: exp
mutator1_areaDamageMultiplier: 0.5

explodeEffect: NONE
#explodeEffect: CUSTOM:Crater
spawnProjectilesOnCreate: iaiDmgA(YOffsetRelative=-20, recursionLimit=20), iaiDmgA(YOffsetRelative=-40, recursionLimit=20), iaiDmgA(YOffsetRelative=-60, recursionLimit=20), iaiDmgA(YOffsetRelative=-80, recursionLimit=20), iaiDmgA(YOffsetRelative=-100, recursionLimit=20), iaiDmgA(YOffsetRelative=-120, recursionLimit=20), iaiDmgA(YOffsetRelative=-140, recursionLimit=20), iaiDmgA(YOffsetRelative=-160, recursionLimit=20), iaiDmgA(YOffsetRelative=-180, recursionLimit=20), iaiDmgA(YOffsetRelative=-200, recursionLimit=20), iaiDmgA(YOffsetRelative=-220, recursionLimit=20), iaiDmgA(YOffsetRelative=-240, recursionLimit=20), iaiDmgA(YOffsetRelative=-260, recursionLimit=20), iaiDmgA(YOffsetRelative=-280, recursionLimit=20), iaiDmgA(YOffsetRelative=-300, recursionLimit=20), iaiDmgA(YOffsetRelative=-320, recursionLimit=20), iaiDmgA(YOffsetRelative=-340, recursionLimit=20)
[projectile_iaiDmgA]
@copyFromSection: projectile_iaiDmg
spawnProjectilesOnCreate: NONE
#---------------------------------------------------------------IAI
[projectile_Dummy]
#dummy
directDamage: 0
life: 0
speed: 0
drawSize: 0
color: #46ebff
lightColor: #46ebff
lightSize: 0

[projectile_1]
directDamage: 50
life: 1000
areaDamage: 550
areaRadius: 35
instant: true

armourIgnoreAmount: 25
shieldDefectionMultiplier: 0.5

#explodeEffect: CUSTOM:sparks*6
#explodeEffectOnShield: CUSTOM:sparks*6

[arm_3]
#tachi
x: 16
y: 5
image_end: tachi_s.png
image_end_teamColors: true
drawOverBody: true
drawDirOffset: -170
moveSpeed: 6
[arm_4]
#tachi_glow
x: 19
y: 25
hidden: if not self.isEnergyFull()
image_end: tachi_glow.png
image_end_teamColors: true
drawOverBody: true
drawDirOffset: -70
moveSpeed: 6
[arm_5]
#tachi
x: 19
y: 25
hidden: if self.isEnergyFull() 
image_end: tachi.png
image_end_teamColors: true
drawOverBody: true
drawDirOffset: -70
moveSpeed: 6
[arm_6]
#R-arm
x: 18
y: 0
image_end: shikishima_armB.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: 20

moveSpeed: 6

[arm_7]
x: -17
y: 0
image_end: shikishima_armA.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: 45

moveSpeed: 6

[arm_8]
#BODY
x: 0
y: 0
#hidden: true
image_end: shikishima_body.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: 45
[arm_9]
#rocket
x: 0
y: 0
#hidden: true
image_end: shikishima_rocketL.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: 45
[arm_10]
#Rail 1
x: 0
y: 0
#hidden: true
image_end: shikishima_railI.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: -60
[arm_11]
#rail 2
x: 0
y: 0
#hidden: true
image_end: shikishima_railII.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: -60
[arm_14]
#Nodachi
x: 0
y: 0
hidden: if self.hasFlag(id=6)
image_end: shikishima_LarmAa_1Nodachi_a.png
image_end_teamColors: true
drawOverBody: true
[arm_15]
#Nodachi
x: 0
y: 0
hidden: if not self.hasFlag(id=6)
image_end: shikishima_LarmAa_1Nodachi_b.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: 90
[arm_16]
#Shoulder armor\ arm
x: 0
y: 0
hidden: if not self.hasFlag(id=6)
image_end: shikishima_Larm.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: -70
[arm_17]
#Shoulder armor temp
x: 0
y: 0
hidden: if self.hasFlag(id=6)
image_end: shikishima_LarmAb.png
image_end_teamColors: true
drawOverBody: true
[arm_18]
#Shoulder armor temp
x: 0
y: 0
hidden: if self.hasFlag(id=6)
image_end: shikishima_LarmAc.png
image_end_teamColors: true
drawOverBody: true
[arm_19]
#Shoulder armor temp
x: 0
y: 0
hidden: if self.hasFlag(id=6)
image_end: shikishima_LarmAa.png
image_end_teamColors: true
drawOverBody: true
#drawDirOffset: -70
[arm_20]
#head
x: 0
y: 4
hidden: true
image_end: shikishima_head.png
image_end_teamColors: true
drawOverBody: true
[leg_1]
x: -15
y: 0
attach_x: -10
attach_y: 0
moveSpeed: 3

rotateSpeed: 7

heightSpeed: 0.8
resetAngle:25

image_leg:  leg.png
image_foot: foot_med.png

#draw_foot_on_top: true
#dust_effect: false

holdDisMin: 21
holdDisMax: 36

[leg_2]
x: 15
y: 0
attach_x: 10
attach_y: 0
copyFrom: 1
[effect_eye]
alsoEmitEffects: CUSTOM:eyeA, CUSTOM:eyeB
createWhenZoomedOut: false
priority:high

life: 20
fadeOut: true
attachedToUnit: false
image: shikishima_eyeGlow.png

#color: #323232
fadeInTime:1
scaleFrom: 1
scaleTo: 1
alpha: 2
#drawUnderUnits:true

ySpeedRelative:-0.2

xOffsetRelative: 0
yOffsetRelative: 7

atmospheric: true

stripIndex:effects
frameIndex: 0

teamColorRatio:1
[effect_eyeA]
@copyFromSection: effect_eye
alsoEmitEffects: NONE
delayedStartTimer: 1
[effect_eyeB]
@copyFromSection: effect_eye
alsoEmitEffects: NONE
delayedStartTimer: 2
[effect_smoke]
#priority:high

frameIndex: 0
stripIndex: effects

spawnChance: 1

priority: verylow

createWhenZoomedOut: false

life: 60
fadeOut: true
attachedToUnit: false
#color: #fdc14d
color: #FFFFFF

fadeInTime:10
scaleFrom: 1
scaleTo: 1.5
alpha: 0.65
drawUnderUnits:false
liveAfterAttachedDies: false

hSpeed: 0.01

dirOffsetRandom:180

ySpeedRelative: -0.7
ySpeedRelativeRandom: 0.05
xSpeedRelativeRandom: 0.25

yOffsetRelative: -10


atmospheric: true
[effect_rocketL]
priority:high
alsoPlaySound:ROOT:data\soundFx\weapon_MLaunch.ogg:1
life: 120
scaleFrom: 0
scaleTo: 0
[effect_sparks]
attachedToUnit: true
life: 80

xSpeedRelativeRandom: 0.8
ySpeedRelativeRandom: 0.8

dirSpeedRandom: 5

atmospheric: false

fadeInTime: 5
fadeOut: true
image: ROOT:data\images\spark.png
scaleFrom: 0.3
scaleTo: 0.1
alpha: 1
color: #EEEEFF
priority: verylow

yOffsetRelative: 30
xOffsetRelativeRandom: 14
yOffsetRelativeRandom: 12
dirOffsetRandom: 5
[effect_sparksH]
@copyFromSection: effect_sparks
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 10
ySpeedRelative:1
alsoEmitEffects: CUSTOM:sparksH2
[effect_sparksH2]
@copyFromSection:effect_sparksH
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 10
ySpeedRelative:2
spawnChance: 0.3
[effect_smokeStarEngineI]
attachedToUnit: false
life: 200
alpha:1
scaleFrom:1
scaleTo: 2.5
#physics: true
xSpeedRelativeRandom: 0.1
ySpeedRelativeRandom: 0.1

xOffsetRelative: 0
yOffsetRelative: -40

hSpeed: 0.1
image: ROOT:data\images\smoke.png
color: #323232
priority: critical
drawUnderUnits:false
atmospheric:true
#delayedStartTimer: 40
[effect_EngineTrail]

createWhenZoomedOut: false
priority:high


life: 15
fadeOut: true
attachedToUnit: false
image: ROOT:data\images\smoke.png
color: #323232
fadeInTime:1
scaleFrom: 1
scaleTo: 1.8
alpha: 0.5
#drawUnderUnits:true

ySpeedRelative:-2
xSpeedRelativeRandom:0.2

xOffsetRelative: 0
yOffsetRelative: -35

atmospheric: true

stripIndex:effects
frameIndex: 0
[effect_HealItself]
life: 30

priority: veryhigh

xOffsetRelative: 0
yOffsetRelative: 0
hOffset: 0
dirOffsetRandom:180
dirSpeedRandom: 1

scaleFrom: 2
scaleTo: 1.1
color: #20d90d
fadeInTime: 1
fadeOut: false

attachedToUnit: true

image: ROOT:data\images\repairPulse.png

drawUnderUnits: true
alpha:0.7
[effect_HealItself2]
priority:low


image: ROOT:data\images\repairPulse.png


life: 480
fadeOut: true
attachedToUnit: true
color: #20d90d

dirSpeed: -0.75

fadeInTime: 40
scaleFrom: 1.1
scaleTo: 1.1
alpha:0.8
drawUnderUnits:true
liveAfterAttachedDies: false
delayedStartTimer: 30
[effect_HealItselfAura]
priority:high


image: ROOT:data\images\aura.png


life: 480
fadeOut: true
attachedToUnit: true
color: #FFFFFF

dirSpeed: 1.5

fadeInTime: 40
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.4
drawUnderUnits:true
liveAfterAttachedDies: false
[effect_HealItselfAura2]
priority:low


image: ROOT:data\images\aura.png


life: 480
fadeOut: true
attachedToUnit: true
color: #FFFFFF

dirSpeed: -0.75

fadeInTime: 40
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.4
drawUnderUnits:true
liveAfterAttachedDies: false

[effect_Railpath_A]
#alsoEmitEffects: CUSTOM:Railpath_B
delayedStartTimer: 0
priority:critical
attachedToUnit: false
drawUnderUnits: true
stripIndex:shockwave
image: idk_simple.png
life: ${iaiCastDecal}
fadeOut: false
scaleFrom: 0.6
scaleTo: 0.6
alpha: 0.9
yOffsetRelative: 170
showInFog: true
createWhenZoomedOut: true
createWhenOffscreen: true
[effect_Crater]
priority:critical

image: ROOT:data\images\crater.png
createWhenOverLiquid: false
life: 500
fadeOut: true
scaleFrom: 0.5
scaleTo: 0.5
alpha: 1.5
drawUnderUnits:true
dirOffsetRandom:180
[effect_RailParticle_1]
delayedStartTimerRandom:90
delayedStartTimer:6
priority:verylow
image:ROOT:data\images\light_particle.png
color:#94d8db
life:150
scaleFrom:0.3
scaleTo:0.3
alpha:2

ySpeedRelative:1
ySpeedRelativeRandom:0.2
xSpeedRelative:-0.08
xSpeedRelativeRandom:-0.08
xOffsetRelativeRandom: 30
yOffsetRelative: 200
yOffsetRelativeRandom: 200

dirOffset:0
dirOffsetRandom:360
dirSpeedRandom:0.2
hOffset:1
fadeInTime:1
attachedToUnit:false
[effect_iaiEff]
life: 50
image: idk_simple_effect.png
priority: critical
total_frames: 5
animateFrameStart: 0
animateFrameEnd: 4
animateFrameSpeed: 1
alpha: 1.8
scaleFrom:0.8
scaleTo:0.8

#adjust the position of the effect
xOffsetRelative: 0
yOffsetRelative: -200

[effect_WhiteSmuk_A]
stripIndex: effects
frameIndex: 0
createWhenOverLand: true
life: 360
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 2
scaleTo: 6
alpha: 0.5
drawUnderUnits:false
hSpeed:0.2
hOffsetRandom:0.15
dirOffsetRandom:180
shadow:true
xOffsetRelativeRandom: 32
yOffsetRelativeRandom: 32
xSpeedAbsoluteRandom:0.3
ySpeedAbsoluteRandom:0.3
atmospheric: true
[effect_WhiteSmuk_Aa]
@copyFromSection: effect_WhiteSmuk_A
ySpeedRelative:-0.8
ySpeedRelativeRandom:-0.5
#---------------------------------Dead sprite
[effect_deathLarm]
@define name: dead_shikishima_Larm
image: ${name}.png
imageShadow: ${name}.png
priority: high
#spawnChance: 0.9
attachedToUnit: false
life: 1000
physics: true
physicsGravity: 0.8
shadow: true
createWhenOverLiquid: false
#xOffsetRelativeRandom: 0.1
#yOffsetRelativeRandom: 0.1
dirOffsetRandom: 180
#----------------------
xSpeedRelative: 0
ySpeedRelative: -0.6
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 1.2
#----------------------
hSpeed: 2.2
hSpeedRandom: 0.3
dirSpeedRandom: 10
alpha: 2
drawUnderUnits: true
#--------------
xOffsetRelative: 0
yOffsetRelative: -24
[effect_deathNodachi]
@copyFromSection: effect_deathLarm
@define name: dead_shikishima_LarmAa_1Nodachi_a
life: 2500
dirSpeedRandom: 18
xOffsetRelative: 0
yOffsetRelative: -24
#----------------------
xSpeedRelative: -1
ySpeedRelative: -0.5
xSpeedRelativeRandom: -1.5
ySpeedRelativeRandom: -1
#----------------------
[effect_deathRail]
@copyFromSection: effect_deathLarm
@define name: dead_shikishima_railII
xOffsetRelative: 0
yOffsetRelative: -16
#----------------------
xSpeedRelative: 0
ySpeedRelative: -0.2
xSpeedRelativeRandom: 0
ySpeedRelativeRandom: -0.5
#----------------------
[effect_deathHEAD]
@copyFromSection: effect_deathLarm
@define name: dead_shikishima_head
xOffsetRelative: 0
yOffsetRelative: 0
#----------------------
xSpeedRelative: 0
ySpeedRelative: 0.6
xSpeedRelativeRandom: 0
ySpeedRelativeRandom: 1.5
#----------------------
dirSpeedRandom: 25
[effect_deathPilot]
@copyFromSection: effect_deathLarm
@define name: wreak29
life: 2000
fadeOut: false
xOffsetRelative: 0
yOffsetRelative: 0
scaleFrom:0.4
scaleTo:0.4
physicsGravity: 0.7
#----------------------
xSpeedRelative: 0
ySpeedRelative: 1.5
xSpeedRelativeRandom: 0
ySpeedRelativeRandom: 2
#----------------------
dirSpeedRandom: 25
[effect_deathArm_A]
@copyFromSection: effect_deathLarm
@define name: dead_shikishima_armA
xOffsetRelative: -15
yOffsetRelative: 0
#----------------------
xSpeedRelative: -1
ySpeedRelative: 0
xSpeedRelativeRandom: -1.5
ySpeedRelativeRandom: 0
#----------------------
dirSpeedRandom: 3
[effect_deathArm_B]
@copyFromSection: effect_deathLarm
@define name: dead_shikishima_armB
xOffsetRelative: 15
yOffsetRelative: 0
#----------------------
xSpeedRelative: 1
ySpeedRelative: 0
xSpeedRelativeRandom: 1.5
ySpeedRelativeRandom: 0
#----------------------
dirSpeedRandom: 15
[effect_deathMLRS]
@copyFromSection: effect_deathLarm
@define name: dead_shikishima_rocketL
xOffsetRelative: -15
yOffsetRelative: 0
#----------------------
xSpeedRelative: -0.5
ySpeedRelative: 0
xSpeedRelativeRandom: -1
ySpeedRelativeRandom: 0
#----------------------
dirSpeedRandom: 15
[effect_deathArm_sword_1]
@copyFromSection: effect_deathLarm
@define name: tachi
life: 1500
xOffsetRelative: 15
yOffsetRelative: 0
physicsGravity: 0.7
#----------------------
xSpeedRelative: 1
ySpeedRelative: 1
xSpeedRelativeRandom: 1.5
ySpeedRelativeRandom: 1.5
#----------------------
dirSpeedRandom: 5
[effect_deathArm_sword_2]
@copyFromSection: effect_deathLarm
@define name: tachi_s
life: 700
xOffsetRelative: 15
yOffsetRelative: 0
physicsGravity: 0.7
#----------------------
xSpeedRelative: 1
ySpeedRelative: 1
xSpeedRelativeRandom: 1.2
ySpeedRelativeRandom: 1.2
#----------------------
dirSpeedRandom: 15
[movement]
movementType: OVER_CLIFF
moveSpeed: 1
moveAccelerationSpeed: 0.3
moveDecelerationSpeed: 0.1
reverseSpeedPercentage: 0.2

maxTurnSpeed:  ${TurnSpeed}
turnAcceleration: ${turnAcceleration}

moveSlidingMode :true
moveIgnoringBody:true





